execute as @a[gamemode=!spectator] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:iron_bars",Count:4b}},distance=..10] at @e[type=item,nbt={Item:{id:"minecraft:iron_bars",Count:4b}}] if block ~ ~-1 ~ crafting_table if entity @e[type=item,nbt={Item:{id:"minecraft:obsidian",Count:4b}},distance=..0.5] at @e[type=item,nbt={Item:{id:"minecraft:obsidian",Count:4b}},distance=..0.5] if block ~ ~-1 ~ crafting_table as @a[limit=1,sort=nearest] run function elevator:floorcrafting/empty_elevator_cage

execute as @a[gamemode=!spectator] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:ender_pearl",Count:1b}},distance=..10] at @e[type=item,nbt={Item:{id:"minecraft:ender_pearl",Count:1b}}] if block ~ ~-1 ~ crafting_table if entity @e[type=item,nbt={Item:{id:"minecraft:stone_pressure_plate",Count:1b}},distance=..0.5] at @e[type=item,nbt={Item:{id:"minecraft:stone_pressure_plate",Count:1b}},distance=..0.5] if block ~ ~-1 ~ crafting_table if entity @e[type=item,nbt={Item:{id:"minecraft:redstone",Count:2b}},distance=..0.5] at @e[type=item,nbt={Item:{id:"minecraft:redstone",Count:2b}},distance=..0.5] if block ~ ~-1 ~ crafting_table as @a[limit=1,sort=nearest] run function elevator:floorcrafting/elevator_core

execute as @a[gamemode=!spectator] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:10001,EntityTag:{id:"minecraft:armor_stand",Tags:["elev","elev_remove"]}}}},distance=..10] at @e[type=item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:1b,tag:{CustomModelData:10001,EntityTag:{id:"minecraft:armor_stand",Tags:["elev","elev_remove"]}}}}] if block ~ ~-1 ~ crafting_table if entity @e[type=item,nbt={Item:{id:"minecraft:command_block",Count:1b,tag:{CustomModelData:10002}}},distance=..0.5] at @e[type=item,nbt={Item:{id:"minecraft:command_block",Count:1b,tag:{CustomModelData:10002}}},distance=..0.5] if block ~ ~-1 ~ crafting_table as @a[limit=1,sort=nearest] run function elevator:floorcrafting/elevator_cage
execute as @a[gamemode=!spectator] at @s if entity @e[type=item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:2b,tag:{CustomModelData:10001,EntityTag:{id:"minecraft:armor_stand",Tags:["elev","elev_remove"]}}}},distance=..10] at @e[type=item,nbt={Item:{id:"minecraft:bat_spawn_egg",Count:2b,tag:{CustomModelData:10001,EntityTag:{id:"minecraft:armor_stand",Tags:["elev","elev_remove"]}}}}] if block ~ ~-1 ~ crafting_table if entity @e[type=item,nbt={Item:{id:"minecraft:command_block",Count:2b,tag:{CustomModelData:10002}}},distance=..0.5] at @e[type=item,nbt={Item:{id:"minecraft:command_block",Count:2b,tag:{CustomModelData:10002}}},distance=..0.5] if block ~ ~-1 ~ crafting_table as @a[limit=1,sort=nearest] run function elevator:floorcrafting/elevator_cage_2
